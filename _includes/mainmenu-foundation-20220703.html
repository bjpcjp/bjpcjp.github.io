{%- assign default_paths = site.pages | map: "path" -%}
{%- assign page_paths    = site.header_pages | default: default_paths -%}
{%- assign titles_size   = site.pages | map: 'title' | join: '' | size -%}

{%- if titles_size > 0 -%}

  <!--<ul class="vertical menu">-->
  <ul class="menu">
    <li>{%- include searchform.html -%}</li>

    {%- for path in page_paths -%}
      {%- assign my_page = site.pages | where: "path", path | first -%}
      {%- if my_page.title -%}
        <li>
          <a href="{{ my_page.url | relative_url }}">
            {{ my_page.title | escape }}</a></li>
      {%- endif -%}
    {%- endfor -%}
  </ul>

{%- endif -%}
